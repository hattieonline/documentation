[
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "Communities",
        "LoadScriptContent":  [
                                  "///$tab Communities",
                                  "mstrCommunity:",
                                  "LOAD %CommunityKey as CommunityInclude,",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_mstrCommunity.qvd]",
                                  "(qvd);"
                              ]
    },
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "dimDate",
        "LoadScriptContent":  [
                                  "///$tab dimDate",
                                  "//\tload only the date field from our fact table. name it to a new field",
                                  "temp:",
                                  "load [%DateKey] as RangeDate\t//\tsource field should be the m/d/yyyy field from your fact table.",
                                  "resident  fact_Sales_Dashboard;",
                                  "",
                                  "//\tMinMaxDate finds the lowest and highest dates from the dates.",
                                  "//\tThis has been proven to work much faster than a typical group by on your transaction table.",
                                  "MinMaxDate:  ",
                                  "load min(RangeDate) as MinDate,  ",
                                  "\tmax(RangeDate) as MaxDate;  ",
                                  "load fieldvalue(\u0027RangeDate\u0027,iterno()) as RangeDate ",
                                  "autogenerate(1) while not isnull(fieldvalue(\u0027RangeDate\u0027,iterno()));  ",
                                  " ",
                                  "drop table temp;\t//\tno need to retain",
                                  "",
                                  "let varMinDate=date(peek(\u0027MinDate\u0027,0,\u0027MinMaxDate\u0027));",
                                  "let varMaxDate=date(peek(\u0027MaxDate\u0027,0,\u0027MinMaxDate\u0027));",
                                  "",
                                  "drop table MinMaxDate;\t//\tno need to retain",
                                  "",
                                  "dimDate:",
                                  "LOAD",
                                  "*",
                                  "FROM [lib://DataShare/QVD Extract\\QVD_Extract_dimDate.qvd]",
                                  "(qvd)where EffectiveDT \u003e=\u0027$(varMinDate)\u0027 and EffectiveDT \u003c=\u0027$(varMaxDate)\u0027;"
                              ]
    },
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "dimELeadCreationJournalActivity",
        "LoadScriptContent":  [
                                  "///$tab dimELeadCreationJournalActivity",
                                  "dimELeadCreation:",
                                  "LOAD *",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factELeadCreationJournalActivity.qvd]",
                                  "(qvd);"
                              ]
    },
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "dimFirstJournalActivity",
        "LoadScriptContent":  [
                                  "///$tab dimFirstJournalActivity",
                                  "dimFirstJournalActivity:",
                                  "LOAD",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_FirstJournalActivity.qvd]",
                                  "(qvd);"
                              ]
    },
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "Fact Tables",
        "LoadScriptContent":  [
                                  "///$tab Fact Tables",
                                  " fact_Sales_Dashboard:",
                                  "LOAD 1 as FactType, // 1 is Inquiry, 2 is EOM Occupancy, 3 is Census Forecast, 4 Monthly Revenue Target, 5 Quarterly Revenue Target,6 New Revenue,7 Tours,8 Journals, 9 is mstr B2B",
                                  "\tIF(Exists(ReferralTourKey, %CommunityKey \u0026 \u0027_\u0027 \u0026 %InquiryID \u0026 \u0027_\u0027 \u0026 %CustomerIDKey), \u0027Yes\u0027, \u0027No\u0027) as ReferralTourFlg,",
                                  "    IF(WildMatch(Status, \u0027Not Qualified\u0027, \u0027Unable to Qualify\u0027), \u0027Not Qualified\u0027, \u0027Qualified\u0027) as QualifiedStatus,",
                                  "   *",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factInquiryByReferral.qvd]",
                                  "(qvd);",
                                  "",
                                  "",
                                  "Concatenate(fact_Sales_Dashboard)",
                                  "//factRevenueByMoveIn",
                                  "LOAD 6 as FactType, //1 is Inquiry, 2 is EOM Occupancy, 3 is Census Forecast, 4 Monthly Revenue Target, 5 Quarterly Revenue Target,6 New Revenue,7 Inquiry Journals,8 B2B Journals, 9 is mstr B2B",
                                  "   *",
                                  "",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factRevenueByMoveIn.qvd]",
                                  "(qvd)",
                                  "Where %DateKey\u003e= Date(Floor(YearStart(Today(),-3)));",
                                  "",
                                  "Concatenate(fact_Sales_Dashboard)",
                                  "LOAD 7 as FactType, //1 is Inquiry, 2 is EOM Occupancy, 3 is Census Forecast, 4 Monthly Revenue Target, 5 Quarterly Revenue Target,6 New Revenue,7 Inquiry Journals,8 B2B Journals, 9 is mstr B2B",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_JournalActivity.qvd]",
                                  "(qvd)",
                                  "Where ((JournalQlikCategory = \u0027Tour\u0027 and %DateKey\u003e= Date(Floor(YearStart(Today(),-3))))",
                                  "\t\tOR (TelephoneCallFlg=1 and %DateKey \u003e= Date(Today()-7))",
                                  "        OR (%DateKey\u003e= Date(Floor(YearStart(Today()))))",
                                  "        OR JournalClosedFlg=0)",
                                  ";",
                                  "",
                                  "Concatenate (fact_Sales_Dashboard)",
                                  "LOAD 15 as FactType,",
                                  "//     ARCResidentDashboard,",
                                  "    RMSLeaseManagement,",
                                  "    %CustomerIDKey,",
                                  "    %CommunityKey,",
                                  "//     BillingID,",
                                  "    \"Resident\",",
                                  "//     ReferralBucket,",
                                  "//     ReferralCategory,",
                                  "//     Organization,",
                                  "//     %OrganizationID,",
                                  "//     ReferredBy,",
                                  "//     ContactID,",
                                  "//     Title,",
                                  "//     Suffix,",
                                  "//     ProductInventoryID,",
                                  "    RoomNumber,",
                                  "    PayorType,",
                                  "//     CurrentRent,",
                                  "    SpecialRate,",
                                  "//     StreetRate,",
                                  "//     RoomTypeStyleCode,",
                                  "    AssessedCareRate,",
                                  "    AssessedMedRate,",
                                  "//     IsPhysicalPresentFlg,",
                                  "    AssessedCareType,",
                                  "    AssessedCareLevel,",
                                  "    AssessedMedLevel,",
                                  "//     Status,",
                                  "    MoveInDt,",
                                  "    ScheduledMoveOutDT",
                                  "//     Address1,",
                                  "//     Address2,",
                                  "//     City,",
                                  "//     State,",
                                  "//     PostalCode,",
                                  "//     Country,",
                                  "//     Gender,",
                                  "//     DOB,",
                                  "//     BilledCareType,",
                                  "//     BilledCareLevel",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_mstrRentRoll.qvd]",
                                  "(qvd);"
                              ]
    },
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "Main",
        "LoadScriptContent":  [
                                  "///$tab Main",
                                  "SET ThousandSep=\u0027,\u0027;",
                                  "SET DecimalSep=\u0027.\u0027;",
                                  "SET MoneyThousandSep=\u0027,\u0027;",
                                  "SET MoneyDecimalSep=\u0027.\u0027;",
                                  "SET MoneyFormat=\u0027$#,##0.00;($#,##0.00)\u0027;",
                                  "SET TimeFormat=\u0027hh:mm:ss.mmm\u0027;",
                                  "SET DateFormat=\u0027M/D/YYYY\u0027;",
                                  "SET TimestampFormat=\u0027M/D/YYYY h:mm:ss[.fff] TT\u0027;",
                                  "SET FirstWeekDay=6;",
                                  "SET BrokenWeeks=1;",
                                  "SET ReferenceDay=0;",
                                  "SET FirstMonthOfYear=1;",
                                  "SET CollationLocale=\u0027en-US\u0027;",
                                  "SET CreateSearchIndexOnReload=0;",
                                  "SET MonthNames=\u0027Jan;Feb;Mar;Apr;May;Jun;Jul;Aug;Sep;Oct;Nov;Dec\u0027;",
                                  "SET LongMonthNames=\u0027January;February;March;April;May;June;July;August;September;October;November;December\u0027;",
                                  "SET DayNames=\u0027Mon;Tue;Wed;Thu;Fri;Sat;Sun\u0027;",
                                  "SET LongDayNames=\u0027Monday;Tuesday;Wednesday;Thursday;Friday;Saturday;Sunday\u0027;",
                                  "SET DISABLE_INSIGHTS=1;",
                                  "",
                                  "SET vTrafficPatterns=\u0027JournalType\u0027;",
                                  "SET vDiscoveryView=\u0027Status\u0027;",
                                  "",
                                  "",
                                  "LET vGlennisOrange = \u0027#e96029\u0027 ;",
                                  "LET vGlennisPink = \u0027#c11277\u0027 ;",
                                  "LET vPrimaryGreen = \u0027#54cb7d\u0027 ;",
                                  "LET vPrimaryPink = \u0027#d73a62\u0027 ;",
                                  "LET vPrimaryOrange = \u0027#ea9024\u0027 ;",
                                  "LET vPrimaryBlue = \u0027#a9d9ee\u0027 ;",
                                  "LET vConditionalGreen = \u0027#3abb67\u0027 ;",
                                  "LET vConditionalYellow = \u0027#ffe270\u0027 ;",
                                  "LET vConditionalOrange = \u0027#ea9024\u0027 ;",
                                  "LET vConditionalDarkPink = \u0027#a50062\u0027 ;",
                                  "LET vConditionalPink = \u0027#d73a62\u0027 ;",
                                  "LET vRowHover = \u0027#f2eef1\u0027 ;",
                                  "",
                                  "variables:",
                                  "LOAD",
                                  "    vDivReg",
                                  "FROM [lib://DataShare/QVD Transform/QVD_Transform_variables.qvd]",
                                  "(qvd);",
                                  "",
                                  "Let vDivReg = Peek(\u0027vDivReg\u0027,0,\u0027variables\u0027);",
                                  "",
                                  "Drop Table variables;"
                              ]
    },
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "Section Access",
        "LoadScriptContent":  [
                                  "///$tab Section Access",
                                  "SecurityTEMP:",
                                  "LOAD",
                                  "    \"ACCESS\",",
                                  "    \"USERID\",",
                                  "    COMMUNITYNUMBER",
                                  "FROM [lib://DataShare/QVD Transform/QVD_Transform_SectionAccess.qvd]",
                                  "(qvd);",
                                  "",
                                  "",
                                  "Section Access;",
                                  "",
                                  "Security:",
                                  "NoConcatenate",
                                  "LOAD",
                                  "    \"ACCESS\",",
                                  "    \"USERID\",",
                                  "    COMMUNITYNUMBER",
                                  "Resident SecurityTEMP;",
                                  "",
                                  "Section Application;",
                                  "",
                                  "Drop Table SecurityTEMP;"
                              ]
    },
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "Section",
        "LoadScriptContent":  [
                                  "///$tab Section",
                                  "Sort:",
                                  "LOAD * Inline [",
                                  "StatusCategory",
                                  "New Lead",
                                  "Reserved",
                                  "Closing",
                                  "Wait List",
                                  "Hot",
                                  "Warm",
                                  "Cold",
                                  "Other",
                                  "];",
                                  "",
                                  "SortQualified:",
                                  "LOAD * Inline [",
                                  "QualifiedStatus",
                                  "Qualified",
                                  "Not Qualified",
                                  "];",
                                  "",
                                  "SortDayName:",
                                  "LOAD * Inline [",
                                  "DayName",
                                  "Sunday",
                                  "Monday",
                                  "Tuesday",
                                  "Wednesday",
                                  "Thursday",
                                  "Friday",
                                  "Saturday",
                                  "];"
                              ]
    },
    {
        "App":  "Sales-PerformanceAnalytics",
        "Section":  "tab_order.txt",
        "LoadScriptContent":  [
                                  "Section Access%tab_file_order_divider%Main%tab_file_order_divider%Communities%tab_file_order_divider%Section%tab_file_order_divider%Fact Tables%tab_file_order_divider%dimFirstJournalActivity%tab_file_order_divider%dimELeadCreationJournalActivity%tab_file_order_divider%dimDate"
                              ]
    }
]
