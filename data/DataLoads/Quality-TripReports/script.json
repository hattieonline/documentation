[
    {
        "App":  "Quality-TripReports",
        "Section":  "ALL COMM and TR Types",
        "LoadScriptContent":  [
                                  "///$tab ALL COMM and TR Types",
                                  "JoinTable:",
                                  "LOAD",
                                  "%CommunityKey",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_mstrCommunity.qvd]",
                                  "(qvd);",
                                  "",
                                  "LEFT JOIN(JoinTable)",
                                  "LOAD DISTINCT",
                                  "TripReport",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factCommunityTripReport.qvd]",
                                  "(qvd)",
                                  "",
                                  "WHERE TripReportStatus = \u0027Close\u0027",
                                  ";"
                              ]
    },
    {
        "App":  "Quality-TripReports",
        "Section":  "Communities",
        "LoadScriptContent":  [
                                  "///$tab Communities",
                                  "[mstrCommunity]:",
                                  "LOAD",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_mstrCommunity.qvd]",
                                  "(qvd);"
                              ]
    },
    {
        "App":  "Quality-TripReports",
        "Section":  "dimDate",
        "LoadScriptContent":  [
                                  "///$tab dimDate",
                                  "//\tload only the date field from our fact table. name it to a new field",
                                  "temp:",
                                  "load [%DateKey] as RangeDate\t//\tsource field should be the m/d/yyyy field from your fact table.",
                                  "resident  fact_QE;",
                                  "",
                                  "//\tMinMaxDate finds the lowest and highest dates from the dates.",
                                  "//\tThis has been proven to work much faster than a typical group by on your transaction table.",
                                  "MinMaxDate:  ",
                                  "load min(RangeDate) as MinDate,  ",
                                  "\tmax(RangeDate) as MaxDate;  ",
                                  "load fieldvalue(\u0027RangeDate\u0027,iterno()) as RangeDate ",
                                  "autogenerate(1) while not isnull(fieldvalue(\u0027RangeDate\u0027,iterno()));  ",
                                  " ",
                                  "drop table temp;\t//\tno need to retain",
                                  "",
                                  "let varMinDate=date(peek(\u0027MinDate\u0027,0,\u0027MinMaxDate\u0027));",
                                  "let varMaxDate=date(peek(\u0027MaxDate\u0027,0,\u0027MinMaxDate\u0027));",
                                  "",
                                  "drop table MinMaxDate;\t//\tno need to retain",
                                  "",
                                  "dimDate:",
                                  "LOAD",
                                  "*",
                                  "FROM [lib://DataShare/QVD Extract\\QVD_Extract_dimDate.qvd]",
                                  "(qvd)where EffectiveDT \u003e=\u0027$(varMinDate)\u0027 and EffectiveDT \u003c=\u0027$(varMaxDate)\u0027;"
                              ]
    },
    {
        "App":  "Quality-TripReports",
        "Section":  "Main",
        "LoadScriptContent":  [
                                  "///$tab Main",
                                  "SET ThousandSep=\u0027,\u0027;",
                                  "SET DecimalSep=\u0027.\u0027;",
                                  "SET MoneyThousandSep=\u0027,\u0027;",
                                  "SET MoneyDecimalSep=\u0027.\u0027;",
                                  "SET MoneyFormat=\u0027$#,##0.00;($#,##0.00)\u0027;",
                                  "SET TimeFormat=\u0027hh:mm:ss.mmm\u0027;",
                                  "SET DateFormat=\u0027M/D/YYYY\u0027;",
                                  "SET TimestampFormat=\u0027M/D/YYYY h:mm:ss[.fff] TT\u0027;",
                                  "SET FirstWeekDay=0;",
                                  "SET BrokenWeeks=1;",
                                  "SET ReferenceDay=0;",
                                  "SET FirstMonthOfYear=1;",
                                  "SET CollationLocale=\u0027en-US\u0027;",
                                  "SET CreateSearchIndexOnReload=0;",
                                  "SET MonthNames=\u0027Jan;Feb;Mar;Apr;May;Jun;Jul;Aug;Sep;Oct;Nov;Dec\u0027;",
                                  "SET LongMonthNames=\u0027January;February;March;April;May;June;July;August;September;October;November;December\u0027;",
                                  "SET DayNames=\u0027Mon;Tue;Wed;Thu;Fri;Sat;Sun\u0027;",
                                  "SET LongDayNames=\u0027Monday;Tuesday;Wednesday;Thursday;Friday;Saturday;Sunday\u0027;",
                                  "SET DISABLE_INSIGHTS = 1;",
                                  "",
                                  "LET vGlennisOrange = \u0027#e96029\u0027 ;",
                                  "LET vGlennisPink = \u0027#c11277\u0027 ;",
                                  "LET vPrimaryGreen = \u0027#54cb7d\u0027 ;",
                                  "LET vPrimaryPink = \u0027#d73a62\u0027 ;",
                                  "LET vPrimaryOrange = \u0027#ea9024\u0027 ;",
                                  "LET vPrimaryBlue = \u0027#a9d9ee\u0027 ;",
                                  "LET vConditionalGreen = \u0027#3abb67\u0027 ;",
                                  "LET vConditionalYellow = \u0027#ffe270\u0027 ;",
                                  "LET vConditionalOrange = \u0027#ea9024\u0027 ;",
                                  "LET vConditionalDarkPink = \u0027#a50062\u0027 ;",
                                  "LET vConditionalPink = \u0027#d73a62\u0027 ;",
                                  "LET vRowHover = \u0027#f2eef1\u0027 ;"
                              ]
    },
    {
        "App":  "Quality-TripReports",
        "Section":  "QE Fact Tables",
        "LoadScriptContent":  [
                                  "///$tab QE Fact Tables",
                                  " fact_QE:",
                                  "LOAD 4 as FactType, // 1 is CommunityReview, 2 is CommunityReviewScore, 3 is CommunityReviewDetail, 4 is CommunityTripReport, 5 is CommunityTripReportDetail, 6 is SalesDashboard",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factCommunityTripReport.qvd]",
                                  "(qvd)",
                                  "",
                                  "WHERE ",
                                  "// Date(Year(%DateKey)) = Year(YearStart(Today())) AND ",
                                  "TripReportStatus = \u0027Close\u0027",
                                  "",
                                  ";",
                                  "JOIN(fact_QE)",
                                  "LOAD *",
                                  "Resident JoinTable;",
                                  "Drop Table JoinTable;",
                                  "",
                                  "Concatenate(fact_QE)",
                                  "LOAD 5 as FactType, // 1 is CommunityReview, 2 is CommunityReviewScore, 3 is CommunityReviewDetail, 4 is CommunityTripReport, 5 is CommunityTripReportDetail, 6 is SalesDashboard",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factCommunityTripDetailwithType.qvd]",
                                  "(qvd)",
                                  "",
                                  "WHERE ",
                                  "// Date(Year(%DateKey)) = Year(YearStart(Today())) AND ",
                                  "TripReportStatus = \u0027Close\u0027",
                                  "",
                                  ";",
                                  "",
                                  "",
                                  "",
                                  "Concatenate(fact_QE)",
                                  "LOAD 7 as FactType,",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factCommunityTripReportPOC.qvd]",
                                  "(qvd)",
                                  "",
                                  "WHERE ",
                                  "// Date(Year(%DateKey)) = Year(YearStart(Today())) AND ",
                                  "TripReportStatus = \u0027Close\u0027",
                                  "",
                                  ";"
                              ]
    },
    {
        "App":  "Quality-TripReports",
        "Section":  "Section Access",
        "LoadScriptContent":  [
                                  "///$tab Section Access",
                                  "SecurityTEMP:",
                                  "LOAD",
                                  "    \"ACCESS\",",
                                  "    \"USERID\",",
                                  "    COMMUNITYNUMBER",
                                  "FROM [lib://DataShare/QVD Transform/QVD_Transform_SectionAccess.qvd]",
                                  "(qvd);",
                                  "",
                                  "Section Access;",
                                  "",
                                  "Security:",
                                  "NoConcatenate",
                                  "LOAD",
                                  "    \"ACCESS\",",
                                  "    \"USERID\",",
                                  "    COMMUNITYNUMBER",
                                  "Resident SecurityTEMP;",
                                  "",
                                  "Section Application;",
                                  "",
                                  "Drop Table SecurityTEMP;"
                              ]
    },
    {
        "App":  "Quality-TripReports",
        "Section":  "tab_order.txt",
        "LoadScriptContent":  [
                                  "Section Access%tab_file_order_divider%Main%tab_file_order_divider%Communities%tab_file_order_divider%ALL COMM and TR Types%tab_file_order_divider%QE Fact Tables%tab_file_order_divider%dimDate"
                              ]
    }
]
