[
    {
        "App":  "Revenue-RoomTurnTracker",
        "Section":  "Community",
        "LoadScriptContent":  [
                                  "///$tab Community ",
                                  "mstrCommunity:",
                                  "LOAD",
                                  "    %CommunityKey,",
                                  "    CommunityID,",
                                  "    CommunityName,",
                                  "    COMMUNITYNUMBER,",
                                  "    CampusName,",
                                  "    CampusNameLabor,",
                                  "    Brand,",
                                  "    Portfolio,",
                                  "    Division,",
                                  "    SVP,",
                                  "    Region,",
                                  "    RVP,",
                                  "    RSM,",
                                  "    OperationCluster,",
                                  "    \"Cluster/Community\",",
                                  "    SalesArea,",
                                  "    MarketCluster,",
                                  "    Tier,",
                                  "    Owner,",
                                  "    CommunityAddress,",
                                  "    CommunityCity,",
                                  "    CommunityState,",
                                  "    CommunityPostalCode,",
                                  "    CommunityCountry,",
                                  "    Longitude,",
                                  "    Latitude,",
                                  "    GeoLocation,",
                                  "    OccupancyFlg,",
                                  "    LowestService,",
                                  "    Elevation,",
                                  "    DistanceToShore,",
                                  "    IsILFlg,",
                                  "    IsALFlg,",
                                  "    IsLGFlg",
                                  "FROM [lib://DataShare (atria_sanela.graziose)/QVD Transform/QVD_Transform_mstrCommunity.qvd]",
                                  "(qvd)",
                                  "Where NOT(WildMatch([%CommunityKey], 10691)) and OccupancyFlg=1;"
                              ]
    },
    {
        "App":  "Revenue-RoomTurnTracker",
        "Section":  "Fact Table",
        "LoadScriptContent":  [
                                  "///$tab Fact Table",
                                  "FactTableTemp:",
                                  "LOAD",
                                  "    ProductInventoryID,",
                                  "    %CommunityKey,",
                                  "    [%CommunityKey] as IncludeCommunity,",
                                  "    RoomNumber,",
                                  "    RoomType,",
                                  "    RoomTypeStyleCode,",
                                  "    CareType,",
                                  "//     GrossUnitArea,",
                                  "    IsOccupiedFlg,",
                                  "    IsReservedFlg,",
                                  "    If (IsReservedFlg=1,\u0027Reserved\u0027,\u0027Not Reserved\u0027) as ReservedStatus,",
                                  "   ",
                                  "//     IsVacancyScheduledFlg,",
                                  "//     IsSemiPrivateResidentFlg,",
                                  "    VacancyScheduledDT,",
                                  "    M_DaysVacant,",
                                  "    IsRoomReadyFlg,",
                                  "    If (IsRoomReadyFlg=1,\u0027Rent Ready\u0027,\u0027Not Rent Ready\u0027) as RentReadyStatus,",
                                  "    Grade,",
                                  "    StreetRate",
                                  "//     SpecialRate,",
                                  "//     IsOfflineFlg,",
                                  "//     OfflineDT,",
                                  "//     OfflineReason,",
                                  "//     OfflineNote,",
                                  "//     OnlineDT,",
                                  "//     OnlineDTEstimate,",
                                  "//     OnlineReason,",
                                  "//     RoomNote,",
                                  "//     SemiRate,",
                                  "//     RespiteRate,",
                                  "//     IsModelRoomFlg,",
                                  "//     Gender",
                                  "FROM [lib://DataShare (atria_sanela.graziose)/QVD Transform/QVD_Transform_mstrProductInventory.qvd]",
                                  "(qvd)",
                                  "Where IsOfflineFlg = 0; //exclude offline and Newport Terrace",
                                  "",
                                  "Join (FactTableTemp) ",
                                  "",
                                  "LOAD RentReadyTaskTypeID,",
                                  "    RentReadyTaskType,",
                                  "    if(RentReadyTaskTypeID = 1, \u0027Paint\u0027, ",
                                  "    if(RentReadyTaskTypeID = 2, \u0027Carpet\u0027, ",
                                  "    if(RentReadyTaskTypeID = 3, \u0027HVAC\u0027, ",
                                  "    if(RentReadyTaskTypeID = 4, \u0027Kitchen Appliances\u0027, ",
                                  "    if(RentReadyTaskTypeID = 5, \u0027Ecall\u0027,",
                                  "    if(RentReadyTaskTypeID = 6, \u0027Apartment Cleaned\u0027,",
                                  "    if(RentReadyTaskTypeID = 7, \u0027Belongings Removed\u0027,\u0027Unknown\u0027))))))) as RentReadyTaskTypeShort,",
                                  "    TaskOrder;",
                                  "SQL SELECT RentReadyTaskTypeID,",
                                  "    RentReadyTaskType,",
                                  "    ActiveFlg, ",
                                  "    TaskOrder",
                                  "FROM BusinessData.INV.luRentReadyTaskType",
                                  "Where ActiveFlg =1 ;",
                                  "",
                                  "Left Join (FactTableTemp)",
                                  "",
                                  "LOAD",
                                  "\tRoomRentReadyTaskID,",
                                  "    RentReadyTaskTypeID,",
                                  "    ProductInventoryID,",
                                  "//     EffectiveDT,",
                                  "//     TaskNote,",
                                  "//     CreateBy,",
                                  "//     CreateDT,",
                                  "//     ModifyBy,",
                                  "//     ModifyDT,",
                                  "  ActiveFlg,",
                                  "//     ApplicationID,",
                                  "//     TurnID,",
                                  "    DueDate;",
                                  "SQL SELECT RoomRentReadyTaskID,",
                                  "    RentReadyTaskTypeID,",
                                  "    ProductInventoryID,",
                                  "    EffectiveDT,",
                                  "    TaskNote,",
                                  "    CreateBy,",
                                  "    CreateDT,",
                                  "    ModifyBy,",
                                  "    ModifyDT,",
                                  "    ActiveFlg,",
                                  "    ApplicationID,",
                                  "    TurnID,",
                                  "    DueDate",
                                  "FROM BusinessData.INV.tblRoomRentReadyTask",
                                  ";",
                                  "",
                                  "",
                                  "Left Join (FactTableTemp)",
                                  "LOAD ProductInventoryID,",
                                  "\tDate(Floor(ExpectedReadyDate)) as ExpectedReadyDate,",
                                  "    RoomReadyNote,",
                                  "    IF(LEN(TRIM(RoomReadyNote))\u003e0, \u0027Yes\u0027, \u0027No\u0027) as NoteFlg",
                                  "Where NoteRank=1;",
                                  "SQL SELECT ProductInventoryID,",
                                  "\tExpectedReadyDate,",
                                  "    RoomReadyNote,",
                                  "    RANK() OVER (Partition By ProductInventoryID ORDER BY CreateDT DESC, ModifyDT DESC) as NoteRank",
                                  "FROM BusinessData.INV.tblProductExpectedReady;",
                                  "",
                                  "",
                                  "FactTable:",
                                  "Load If (IsRoomReadyFlg=1 or ActiveFlg = 1, \u0027Complete\u0027, \u0027Not Started\u0027) as TaskStatus,",
                                  "*",
                                  "Resident FactTableTemp;",
                                  "Drop Table FactTableTemp;",
                                  "Drop Field ActiveFlg From FactTable;"
                              ]
    },
    {
        "App":  "Revenue-RoomTurnTracker",
        "Section":  "Main",
        "LoadScriptContent":  [
                                  "///$tab Main",
                                  "SET ThousandSep=\u0027,\u0027;",
                                  "SET DecimalSep=\u0027.\u0027;",
                                  "SET MoneyThousandSep=\u0027,\u0027;",
                                  "SET MoneyDecimalSep=\u0027.\u0027;",
                                  "SET MoneyFormat=\u0027$#,##0.00;-$#,##0.00\u0027;",
                                  "SET TimeFormat=\u0027h:mm:ss TT\u0027;",
                                  "SET DateFormat=\u0027M/D/YYYY\u0027;",
                                  "SET TimestampFormat=\u0027M/D/YYYY h:mm:ss[.fff] TT\u0027;",
                                  "SET FirstWeekDay=6;",
                                  "SET BrokenWeeks=1;",
                                  "SET ReferenceDay=0;",
                                  "SET FirstMonthOfYear=1;",
                                  "SET CollationLocale=\u0027en-US\u0027;",
                                  "SET MonthNames=\u0027Jan;Feb;Mar;Apr;May;Jun;Jul;Aug;Sep;Oct;Nov;Dec\u0027;",
                                  "SET LongMonthNames=\u0027January;February;March;April;May;June;July;August;September;October;November;December\u0027;",
                                  "SET DayNames=\u0027Mon;Tue;Wed;Thu;Fri;Sat;Sun\u0027;",
                                  "SET LongDayNames=\u0027Monday;Tuesday;Wednesday;Thursday;Friday;Saturday;Sunday\u0027;",
                                  "SET NumericalAbbreviation=\u00273:k;6:M;9:G;12:T;15:P;18:E;21:Z;24:Y;-3:m;-6:??;-9:n;-12:p;-15:f;-18:a;-21:z;-24:y\u0027;",
                                  "",
                                  "LIB CONNECT TO \u0027AtriaDW\u0027;",
                                  "",
                                  "LET vGlennisOrange = \u0027#e96029\u0027 ;",
                                  "LET vGlennisPink = \u0027#c11277\u0027 ;",
                                  "LET vPrimaryGreen = \u0027#54cb7d\u0027 ;",
                                  "LET vPrimaryPink = \u0027#d73a62\u0027 ;",
                                  "LET vPrimaryOrange = \u0027#ea9024\u0027 ;",
                                  "LET vPrimaryBlue = \u0027#a9d9ee\u0027 ;",
                                  "LET vConditionalGreen = \u0027#3abb67\u0027 ;",
                                  "LET vConditionalYellow = \u0027#ffe270\u0027 ;",
                                  "LET vConditionalOrange = \u0027#ea9024\u0027 ;",
                                  "LET vConditionalDarkPink = \u0027#a50062\u0027 ;",
                                  "LET vConditionalPink = \u0027#d73a62\u0027 ;",
                                  "LET vRowHover = \u0027#f2eef1\u0027 ;"
                              ]
    },
    {
        "App":  "Revenue-RoomTurnTracker",
        "Section":  "tab_order.txt",
        "LoadScriptContent":  [
                                  "Main%tab_file_order_divider%Community%tab_file_order_divider%Fact Table"
                              ]
    }
]
