[
    {
        "App":  "Sales-Leaderboard",
        "Section":  "Communities",
        "LoadScriptContent":  [
                                  "///$tab Communities",
                                  "[fact_Communities]:",
                                  "NoConcatenate",
                                  "LOAD",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform/QVD_Transform_mstrCommunity.qvd]",
                                  "(qvd);"
                              ]
    },
    {
        "App":  "Sales-Leaderboard",
        "Section":  "dimDate",
        "LoadScriptContent":  [
                                  "///$tab dimDate",
                                  "//\tload only the date field from our fact table. name it to a new field",
                                  "temp:",
                                  "load [%DateKey] as RangeDate\t//\tsource field should be the m/d/yyyy field from your fact table.",
                                  "resident  fact_Sales_Dashboard;",
                                  "",
                                  "//\tMinMaxDate finds the lowest and highest dates from the dates.",
                                  "//\tThis has been proven to work much faster than a typical group by on your transaction table.",
                                  "MinMaxDate:  ",
                                  "load min(RangeDate) as MinDate,  ",
                                  "\tmax(RangeDate) as MaxDate;  ",
                                  "load fieldvalue(\u0027RangeDate\u0027,iterno()) as RangeDate ",
                                  "autogenerate(1) while not isnull(fieldvalue(\u0027RangeDate\u0027,iterno()));  ",
                                  " ",
                                  "drop table temp;\t//\tno need to retain",
                                  "",
                                  "let varMinDate=date(peek(\u0027MinDate\u0027,0,\u0027MinMaxDate\u0027));",
                                  "let varMaxDate=date(peek(\u0027MaxDate\u0027,0,\u0027MinMaxDate\u0027));",
                                  "",
                                  "drop table MinMaxDate;\t//\tno need to retain",
                                  "",
                                  "dimDate:",
                                  "LOAD",
                                  "*",
                                  "FROM [lib://DataShare/QVD Extract\\QVD_Extract_dimDate.qvd]",
                                  "(qvd)where EffectiveDT \u003e=\u0027$(varMinDate)\u0027 and EffectiveDT \u003c=\u0027$(varMaxDate)\u0027;"
                              ]
    },
    {
        "App":  "Sales-Leaderboard",
        "Section":  "Fact Tables",
        "LoadScriptContent":  [
                                  "///$tab Fact Tables",
                                  " fact_Sales_Dashboard:",
                                  "LOAD 1 as FactType, // 1 is Inquiry, 2 is EOM Occupancy, 3 is Census Forecast, 4 Monthly Revenue Target, 5 Quarterly Revenue Target,6 New Revenue,7 Tours,8 Journals, 9 is mstr B2B",
                                  "",
                                  "    *",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factInquiryByReferral.qvd]",
                                  "(qvd)",
                                  "Where Exists(COMMUNITYNUMBER, [%CommunityKey]);",
                                  "",
                                  "Concatenate(fact_Sales_Dashboard)",
                                  "//fact_Occupancy_Monthly",
                                  "",
                                  "LOAD 2 as FactType, //1 is Inquiry, 2 is EOM Occupancy, 3 is Census Forecast, 4 Monthly Revenue Target, 5 Quarterly Revenue Target,6 New Revenue,7 Inquiry Journals,8 B2B Journals, 9 is mstr B2B",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factUnitOccupancyByMonth.qvd]",
                                  "(qvd)",
                                  "Where Exists(COMMUNITYNUMBER, [%CommunityKey]);",
                                  "",
                                  "",
                                  "Concatenate(fact_Sales_Dashboard)",
                                  "//factRevenueByMoveIn",
                                  "LOAD 6 as FactType, //1 is Inquiry, 2 is EOM Occupancy, 3 is Census Forecast, 4 Monthly Revenue Target, 5 Quarterly Revenue Target,6 New Revenue,7 Inquiry Journals,8 B2B Journals, 9 is mstr B2B",
                                  "    *",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factRevenueByMoveIn.qvd]",
                                  "(qvd)",
                                  "where %DateKey\u003e=date(yearstart(Today(),-3),\u0027MM/DD/YYYY\u0027)",
                                  "and Exists(COMMUNITYNUMBER, [%CommunityKey])",
                                  ";",
                                  "",
                                  "",
                                  "Concatenate(fact_Sales_Dashboard)",
                                  "LOAD 7 as FactType, //1 is Inquiry, 2 is EOM Occupancy, 3 is Census Forecast, 4 Monthly Revenue Target, 5 Quarterly Revenue Target,6 New Revenue,7 Inquiry Journals,8 B2B Journals, 9 is mstr B2B",
                                  "   *",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_JournalActivity.qvd]",
                                  "(qvd)",
                                  "where %DateKey\u003eMonthStart(AddMonths(TODAY(),-6))",
                                  "and Exists(COMMUNITYNUMBER, [%CommunityKey]);",
                                  "",
                                  "",
                                  "Concatenate (fact_Sales_Dashboard)",
                                  "LOAD 12 as FactType,",
                                  "*",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factScoreCard.qvd]",
                                  "(qvd)",
                                  "Where Exists(COMMUNITYNUMBER, [%CommunityKey]);",
                                  "",
                                  "",
                                  "Concatenate (fact_Sales_Dashboard)",
                                  "LOAD 14 as FactType,",
                                  "    *",
                                  "FROM [lib://DataShare/QVD Transform\\QVD_Transform_factReservation.qvd]",
                                  "(qvd)",
                                  "Where Exists(COMMUNITYNUMBER, [%CommunityKey]);"
                              ]
    },
    {
        "App":  "Sales-Leaderboard",
        "Section":  "Main",
        "LoadScriptContent":  [
                                  "///$tab Main",
                                  "SET ThousandSep=\u0027,\u0027;",
                                  "SET DecimalSep=\u0027.\u0027;",
                                  "SET MoneyThousandSep=\u0027,\u0027;",
                                  "SET MoneyDecimalSep=\u0027.\u0027;",
                                  "SET MoneyFormat=\u0027$#,##0.00;($#,##0.00)\u0027;",
                                  "SET TimeFormat=\u0027hh:mm:ss.mmm\u0027;",
                                  "SET DateFormat=\u0027M/D/YYYY\u0027;",
                                  "SET TimestampFormat=\u0027M/D/YYYY h:mm:ss[.fff] TT\u0027;",
                                  "SET FirstWeekDay=6;",
                                  "SET BrokenWeeks=1;",
                                  "SET ReferenceDay=0;",
                                  "SET FirstMonthOfYear=1;",
                                  "SET CollationLocale=\u0027en-US\u0027;",
                                  "SET CreateSearchIndexOnReload=0;",
                                  "SET MonthNames=\u0027Jan;Feb;Mar;Apr;May;Jun;Jul;Aug;Sep;Oct;Nov;Dec\u0027;",
                                  "SET LongMonthNames=\u0027January;February;March;April;May;June;July;August;September;October;November;December\u0027;",
                                  "SET DayNames=\u0027Mon;Tue;Wed;Thu;Fri;Sat;Sun\u0027;",
                                  "SET LongDayNames=\u0027Monday;Tuesday;Wednesday;Thursday;Friday;Saturday;Sunday\u0027;",
                                  "set DISABLE_INSIGHTS= 1;",
                                  "",
                                  "",
                                  "LET vGlennisOrange = \u0027#e96029\u0027 ;",
                                  "LET vGlennisPink = \u0027#c11277\u0027 ;",
                                  "LET vPrimaryGreen = \u0027#54cb7d\u0027 ;",
                                  "LET vPrimaryPink = \u0027#d73a62\u0027 ;",
                                  "LET vPrimaryOrange = \u0027#ea9024\u0027 ;",
                                  "LET vPrimaryBlue = \u0027#a9d9ee\u0027 ;",
                                  "LET vConditionalGreen = \u0027#3abb67\u0027 ;",
                                  "LET vConditionalYellow = \u0027#ffe270\u0027 ;",
                                  "LET vConditionalOrange = \u0027#ea9024\u0027 ;",
                                  "LET vConditionalDarkPink = \u0027#a50062\u0027 ;",
                                  "LET vConditionalPink = \u0027#d73a62\u0027 ;",
                                  "LET vRowHover = \u0027#f2eef1\u0027 ;",
                                  "",
                                  "variables:",
                                  "LOAD",
                                  "    vDivReg",
                                  "FROM [lib://DataShare/QVD Transform/QVD_Transform_variables.qvd]",
                                  "(qvd);",
                                  "",
                                  "Let vDivReg = Peek(\u0027vDivReg\u0027,0,\u0027variables\u0027);",
                                  "",
                                  "Drop Table variables;"
                              ]
    },
    {
        "App":  "Sales-Leaderboard",
        "Section":  "Section Access",
        "LoadScriptContent":  [
                                  "///$tab Section Access",
                                  "SecurityTEMP:",
                                  "LOAD",
                                  "    \"ACCESS\",",
                                  "    \"USERID\",",
                                  "    COMMUNITYNUMBER",
                                  "FROM [lib://DataShare/QVD Transform/QVD_Transform_SectionAccess.qvd]",
                                  "(qvd);",
                                  "",
                                  "Section Access;",
                                  "",
                                  "Security:",
                                  "NoConcatenate",
                                  "LOAD",
                                  "    \"ACCESS\",",
                                  "    \"USERID\",",
                                  "    COMMUNITYNUMBER",
                                  "Resident SecurityTEMP;",
                                  "",
                                  "Section Application;",
                                  "",
                                  "Drop Table SecurityTEMP;"
                              ]
    },
    {
        "App":  "Sales-Leaderboard",
        "Section":  "Status Sorting",
        "LoadScriptContent":  [
                                  "///$tab Status Sorting",
                                  "Sort:",
                                  "LOAD * Inline [",
                                  "StatusCategory",
                                  "New Lead",
                                  "Reserved",
                                  "Closing",
                                  "Wait List",
                                  "Hot",
                                  "Warm",
                                  "Cold",
                                  "Other",
                                  "];"
                              ]
    },
    {
        "App":  "Sales-Leaderboard",
        "Section":  "tab_order.txt",
        "LoadScriptContent":  [
                                  "Section Access%tab_file_order_divider%Main%tab_file_order_divider%Communities%tab_file_order_divider%Status Sorting%tab_file_order_divider%Fact Tables%tab_file_order_divider%dimDate"
                              ]
    }
]
